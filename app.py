import streamlit as st
import streamlit.components.v1 as components
import requests
import urllib.parse
import os

# 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¸Ø§Ù… Wide Ù„Ø§Ø³ØªØºÙ„Ø§Ù„ Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨
st.set_page_config(
    page_title="Solution Tools Download Video Tiktok Without Watermark & Youtub, Instagram and Facebook MP3 & MP4 Free 2026 | ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ Ø¨Ø¯ÙˆÙ† Ø¹Ù„Ø§Ù…Ø© Ù…Ø§Ø¦ÙŠØ© ØŒÙŠÙˆØªÙŠÙˆØ¨ ØŒØ§Ù†Ø³ØªÙ‚Ø±Ø§Ù… Ùˆ ÙØ§ÙŠØ³Ø¨ÙˆÙƒ MP3 & MP4 Ù…Ø¬Ø§Ù†Ø§ 2026",
    page_icon="âš¡",
    layout="wide",
)
st.markdown(
    f"""
    <script>
        var meta = document.createElement('meta');
        meta.name = "google-site-verification";
        meta.content = "3OalxEE5eG8HR0bf8gzBbNvh3On5RUsweJteiJpdaTU";
        document.getElementsByTagName('head')[0].appendChild(meta);
    </script>
    """,
    unsafe_allow_html=True
)

# ÙƒÙˆØ¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø³Ø­Ø±ÙŠ - ÙŠØ¶Ø¹ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ "Ø±Ø£Ø³" Ø§Ù„ØµÙØ­Ø© Ø±ØºÙ…Ø§Ù‹ Ø¹Ù† Ø§Ù„Ù‚ÙŠÙˆØ¯
# 3. Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø°ÙŠ ÙŠØ±Ø§Ù‡ Ø§Ù„Ø²ÙˆØ§Ø±
st.markdown("<h1 style='text-align: center; color: white;'>âš¡ SOLUTION TOOLS DOWNLOAD VIDEO</h1>", unsafe_allow_html=True)
st.markdown("<p style='text-align: center;'>ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØµØ§Øª Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>", unsafe_allow_html=True)

# --- 2. Ù…Ø­Ø±Ùƒ Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„Ø®Ù„ÙÙŠ (Popunder). ---
components.html("""<script type='text/javascript' src='//pl28514603.effectivegatecpm.com/c6/5f/8a/c65f8a139a9ffa5d8b03075f7821fd4c.js'></script>""", height=0)
ad_link = "https://www.effectivegatecpm.com/fnm1ha40cf?key=2e8e674cc5f9402c67e5a8277faee09d"
ad_banner_728 = "https://www.highperformanceformat.com/09fc5e7625238657d095f102f5be82d6/invoke.js" 
ad_banner_300 = "https://www.highperformanceformat.com/b2a26b7c867c1488c61726b4c12a9d78/invoke.js" 

# --- 3. ØªÙ†Ø³ÙŠÙ‚ CSS Ø§Ù„Ù…Ø­Ø³Ù† ---
st.markdown("""
    <style>
    .stApp { background-color: #050505; color: white; }
    .widget-box { 
        background: rgba(255,255,255,0.05); 
        border-radius: 15px; padding: 20px; border: 1px solid #333; text-align: center;
    }
    .button-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 25px;
    }
    
    .dl-btn {
        padding: 20px;
        color: white !important;
        border-radius: 12px;
        font-weight: bold;
        text-decoration: none;
        text-align: center;
        font-size: 20px;
        transition: 0.3s;
        border: none;
        display: block;
    }
    
    .video-btn { background: linear-gradient(90deg, #238636, #2ea043); } /* Ø£Ø®Ø¶Ø± Ù„Ù„ÙÙŠØ¯ÙŠÙˆ */
    .audio-btn { background: linear-gradient(90deg, #1f6feb, #388bfd); } /* Ø£Ø²Ø±Ù‚ Ù„Ù„ØµÙˆØª */
    
    .dl-btn:hover { transform: translateY(-3px); filter: brightness(1.1); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    </style>
""", unsafe_allow_html=True)

left_col, main_col, right_col = st.columns([1, 2, 1])

# Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø±: Ù„Ø¹Ø¨Ø© Ø°ÙƒØ§Ø¡ Ø¯Ø§Ø®Ù„ÙŠØ© (ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù…)
with left_col:
    st.markdown('<div class="widget-box"><h3>ğŸ® Ù„ØºØ² Ø§Ù„Ø£Ø±Ù‚Ø§Ù…</h3>', unsafe_allow_html=True)
    st.write("Ø­Ø§ÙˆÙ„ ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø³Ø±ÙŠ Ø¨ÙŠÙ† 1 Ùˆ 100")
    if 'secret_number' not in st.session_state:
        import random
        st.session_state.secret_number = random.randint(1, 100)
    
    guess = st.number_input("Ø¶Ø¹ Ø±Ù‚Ù…Ùƒ Ù‡Ù†Ø§:", min_value=1, max_value=100, key="guess_game")
    if st.button("ØªØ­Ù‚Ù‚"):
        if guess < st.session_state.secret_number: st.warning("Ø£ÙƒØ¨Ø± Ø¨Ù‚Ù„ÙŠÙ„!")
        elif guess > st.session_state.secret_number: st.warning("Ø£ØµØºØ± Ø¨Ù‚Ù„ÙŠÙ„!")
        else: st.success("Ø±Ø§Ø¦Ø¹! Ù„Ù‚Ø¯ ÙØ²Øª!")
    st.markdown('</div>', unsafe_allow_html=True)
    
    # Ø¥Ø¹Ù„Ø§Ù† ØµØºÙŠØ± ØªØ­Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø±Ø¨Ø­
    components.html("""
        <div style="text-align:center;">
            <script type="text/javascript">
                atOptions = {'key' : '7cc90dc5d87cbec36c2f51ccaf5a3c54', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {}};
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/7cc90dc5d87cbec36c2f51ccaf5a3c54/invoke.js"></script>
        </div>
    """, height=70)
   
        # Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨Ù†Ø± 300x250 Ø£Ø³ÙÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù…Ø¨Ø§Ø´Ø±Ø©
    components.html("""
        <div style="text-align:center;">
            <script type="text/javascript">
                atOptions = {'key' : 'b2a26b7c867c1488c61726b4c12a9d78', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {}};
                </script>
                <script type="text/javascript" src="//www.highperformanceformat.com/b2a26b7c867c1488c61726b4c12a9d78/invoke.js"></script>
            </div>
        """, height=260)    

# --- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙˆØ³Ø·: Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ÙˆØ§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ---
with main_col:
    st.markdown('<div class="header-box"><h1 style="color:#FF4B4B; font-size: 45px; margin:0;">âš¡ SOLUTION TOOLS DOWNLOAD VIDEO</h1><p style="color:#888;">Professional Media Downloader</p></div>', unsafe_allow_html=True)
    
    # Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ (728x90) Ù…Ø¹ Ø§Ø±ØªÙØ§Ø¹ ÙƒØ§ÙÙ Ù„Ù…Ù†Ø¹ Ø§Ù„Ù‚Øµ
    components.html("""
        <div style="text-align:center;">
            <script type="text/javascript">
                atOptions = {'key' : '09fc5e7625238657d095f102f5be82d6', 'format' : 'iframe', 'height' : 90, 'width' : 728, 'params' : {}};
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/09fc5e7625238657d095f102f5be82d6/invoke.js"></script>
        </div>
    """, height=110)

    url = st.text_input("", placeholder="ENTRER Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù‡Ù†Ø§ Ù„Ù„Ø¨Ø¯Ø¡(ÙŠÙˆØªÙŠÙˆØ¨ØŒ ØªÙŠÙƒ ØªÙˆÙƒØŒ Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…ØŒ ÙÙŠØ³Ø¨ÙˆÙƒ) Ùˆ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰")
    if url:
        st.video(url)
        encoded_url = urllib.parse.quote(url)
        target_url = f"https://downr.org/#url={url}"     
        
        st.markdown(f"""
            <div class="button-container">
                <a href="{target_url}" onclick="window.open('{ad_link}', '_blank');" class="dl-btn video-btn">
                    ğŸ¬ ØªØ­Ù…ÙŠÙ„ MP4 (ÙÙŠØ¯ÙŠÙˆ)
                </a>
                <a href="{target_url}" onclick="window.open('{ad_link}', '_blank');" class="dl-btn audio-btn">
                    ğŸµ ØªØ­Ù…ÙŠÙ„ MP3 (ØµÙˆØª)
                </a>
            </div>
            <p style="text-align:center; color:#8b949e; margin-top:20px; font-size:13px;">
                * Ø³ÙŠØªÙ… Ù†Ù‚Ù„Ùƒ Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø¨Ø¹Ø¯ Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†.
            </p>
        """, unsafe_allow_html=True)

# --- Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù† (Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©) ---
with right_col:
    st.markdown('<div class="widget-box"><h3>ğŸ¨ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù†</h3>', unsafe_allow_html=True)
    components.html("""
        <div id="status" style="color:#FF4B4B; font-weight:bold; margin-bottom:10px;">ØªØ°ÙƒØ± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø°ÙŠ Ø³ÙŠØ¶ÙŠØ¡!</div>
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
            <button id="btn0" onclick="press(0)" class="color-btn" style="background:#ff4b4b; opacity:0.6;"></button>
            <button id="btn1" onclick="press(1)" class="color-btn" style="background:#28a745; opacity:0.6;"></button>
            <button id="btn2" onclick="press(2)" class="color-btn" style="background:#007bff; opacity:0.6;"></button>
            <button id="btn3" onclick="press(3)" class="color-btn" style="background:#ffc107; opacity:0.6;"></button>
        </div>
        <button onclick="playRound()" style="width:100%; margin-top:15px; padding:10px; cursor:pointer;">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¬ÙˆÙ„Ø©</button>
        
        <script>
        let target = 0;
        function playRound() {
            target = Math.floor(Math.random() * 4);
            const btn = document.getElementById('btn' + target);
            btn.style.opacity = "1";
            btn.style.boxShadow = "0 0 20px white";
            document.getElementById('status').innerText = "ØªØ°ÙƒØ± Ø§Ù„Ù„ÙˆÙ†...";
            setTimeout(() => { 
                btn.style.opacity = "0.6"; 
                btn.style.boxShadow = "none";
                document.getElementById('status').innerText = "Ø£ÙŠ Ù„ÙˆÙ† Ø£Ø¶Ø§Ø¡ØŸ";
            }, 600);
        }
        function press(id) {
            if(id === target) {
                alert("Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! ğŸ‰");
                document.getElementById('status').innerText = "Ø±Ø§Ø¦Ø¹! Ø¬ÙˆÙ„Ø© Ø¬Ø¯ÙŠØ¯Ø©ØŸ";
            } else {
                alert("Ø®Ø·Ø£! Ø±ÙƒØ² Ø£ÙƒØ«Ø± âŒ");
            }
        }
        </script>
        <style>
        .color-btn { height: 70px; border: none; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        </style>
    """, height=350)
    st.markdown('</div>', unsafe_allow_html=True)

    # ØªÙƒØ±Ø§Ø± Ø¥Ø¹Ù„Ø§Ù† 320x50 Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø±Ø¨Ø­ Ù…Ù† Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¢Ø®Ø± Ø£ÙŠØ¶Ø§Ù‹
    components.html("""
        <div style="text-align:center;">
            <script type="text/javascript">
                atOptions = {'key' : '7cc90dc5d87cbec36c2f51ccaf5a3c54', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {}};
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/7cc90dc5d87cbec36c2f51ccaf5a3c54/invoke.js"></script>
        </div>
    """, height=70)

# --- 5. Ù…Ù‚Ø§Ù„ Ø§Ù„Ù€ SEO ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ (Ù„Ø¬ÙˆØ¬Ù„) ---

# Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù‡Ùˆ Ù…Ø§ Ø³ÙŠØ¬Ø¹Ù„ Ø¬ÙˆØ¬Ù„ ÙŠØ¶Ø¹Ùƒ ÙÙŠ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
st.markdown("""
    <div style="margin-top: 50px; padding: 30px; background: rgba(0,0,0,0.2); border-radius: 15px; direction: rtl; text-align: right;">
        <h2 style="color: #38bdf8;">Ø£ÙØ¶Ù„ Ø£Ø¯Ø§Ø© ØªÙ†Ø²ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…Ø¬Ø§Ù†Ø§Ù‹</h2>
        <p>ÙŠØ¹ØªØ¨Ø± Ù…ÙˆÙ‚Ø¹ <b>Solution Tools</b> Ø§Ù„Ø«ÙˆØ±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Ø¹Ø§Ù„Ù… <b>ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ØªÙŠÙ…ÙŠØ¯ÙŠØ§</b>. Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØªØ³Ø§Ø¡Ù„ Ø¹Ù† <i>  ÙƒÙŠÙÙŠØ© ØªØ­Ù…ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ Ø¨Ø¯ÙˆÙ† Ø¹Ù„Ø§Ù…Ø© Ù…Ø§Ø¦ÙŠØ©ØŒ ÙŠÙˆØªÙŠÙˆØ¨ØŒ ÙÙŠØ³Ø¨ÙˆÙƒØŒ Ø¥Ù†Ø³ØªÙ‚Ø±Ø§Ù…ØŒ ÙˆØªÙˆÙŠØªØ±</i>ØŒ ÙÙ‚Ø¯ ÙˆØµÙ„Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„ØµØ­ÙŠØ­.</p>
        
        <h3>Ù…Ù…ÙŠØ²Ø§Øª Ø®Ø¯Ù…Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù„Ø¯ÙŠÙ†Ø§:</h3>
        <ul>
            <li><b>Ø¯Ø¹Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØµØ§Øª:</b> ØªØ­Ù…ÙŠÙ„ Ù…Ù† ØªÙŠÙƒ ØªÙˆÙƒØŒ ÙŠÙˆØªÙŠÙˆØ¨ØŒ ÙÙŠØ³Ø¨ÙˆÙƒØŒ Ø¥Ù†Ø³ØªÙ‚Ø±Ø§Ù…ØŒ ÙˆØªÙˆÙŠØªØ±.</li>
            <li><b>Ø¬ÙˆØ¯Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©:</b> Ù†ÙˆÙØ± Ù„Ùƒ Ø¬ÙˆØ¯Ø© 1080p Ùˆ 4K Ø¨Ø¶ØºØ·Ø© Ø²Ø±.</li>
            <li><b>ØªØ­ÙˆÙŠÙ„ MP3:</b> Ø£Ø³Ø±Ø¹ Ù…Ø­ÙˆÙ„ ÙÙŠØ¯ÙŠÙˆ Ø¥Ù„Ù‰ MP3 Ø¨Ø¬ÙˆØ¯Ø© ØµÙˆØª Ù†Ù‚ÙŠØ© 320kbps.</li>
        </ul>
        
        <p>Ù„Ø§ ØªØ­ØªØ§Ø¬ Ù„ØªØ«Ø¨ÙŠØª Ø¨Ø±Ø§Ù…Ø¬Ø› Ù…ÙˆÙ‚Ø¹Ù†Ø§ ÙŠØ¹Ù…Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ù„Ø¢ÙŠÙÙˆÙ† ÙˆØ§Ù„Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ ÙˆØ§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±. Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© <b>ØªÙ†Ø²ÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ</b> Ø³Ø±ÙŠØ¹Ø© ÙˆØ¢Ù…Ù†Ø© ØªÙ…Ø§Ù…Ø§Ù‹.</p>
    </div>
""", unsafe_allow_html=True)

GA_JS = """
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3K920TRWE2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-3K920TRWE2');
</script>
"""

st.components.v1.html(GA_JS, height=0)


